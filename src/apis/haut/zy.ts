import { number } from '.pnpm/@intlify+core-base@9.1.10/node_modules/@intlify/core-base'
import { COURSE, ENTER_CLASSROOM } from './apis'
import { request, BaseResponse } from '@/utils/request'

const submitItems: any = {
  // Java语言程序设计
  '1318/450/submit/63775': [
    { praxiseId: 84386, value: 1 },
    { praxiseId: 84387, value: 1 },
    { praxiseId: 84388, value: 1 },
    { praxiseId: 84389, value: 2 },
    { praxiseId: 84390, value: 3 },
    { praxiseId: 84391, value: 1 },
    { praxiseId: 84392, value: 1 },
    { praxiseId: 84393, value: 2 },
    { praxiseId: 84394, value: 1 },
    { praxiseId: 84395, value: 2 },
    { praxiseId: 84396, value: 2 },
    { praxiseId: 84397, value: 3 },
    { praxiseId: 84398, value: 4 },
    { praxiseId: 84399, value: 2 },
    { praxiseId: 84400, value: 3 },
    { praxiseId: 84401, value: 1 },
    { praxiseId: 84402, value: 2 },
    { praxiseId: 84403, value: 3 },
    { praxiseId: 84404, value: 3 },
    { praxiseId: 84405, value: 1 },
    { praxiseId: 84406, value: 3 },
    { praxiseId: 84407, value: 2 },
    { praxiseId: 84408, value: 4 },
    { praxiseId: 84409, value: 2 },
    { praxiseId: 84410, value: 1 },
    { praxiseId: 84411, value: 4 },
    { praxiseId: 84412, value: 4 },
    { praxiseId: 84413, value: 1 },
    { praxiseId: 84414, value: 4 },
    { praxiseId: 84415, value: 2 },
    { praxiseId: 84416, value: 4 },
    { praxiseId: 84417, value: 1 },
    { praxiseId: 84418, value: 1 },
    { praxiseId: 84419, value: 1 },
    { praxiseId: 84420, value: -1 },
    { praxiseId: 84421, value: -1 },
    { praxiseId: 84422, value: 1 },
    { praxiseId: 84423, value: -1 },
    { praxiseId: 84424, value: -1 },
    { praxiseId: 84425, value: -1 },
    { praxiseId: 84426, value: 1 },
    { praxiseId: 84427, value: 1 },
  ],
  '1318/450/submit/63776': [
    { praxiseId: 84428, value: 4 },
    { praxiseId: 84429, value: 4 },
    { praxiseId: 84430, value: 4 },
    { praxiseId: 84431, value: 3 },
    { praxiseId: 84432, value: 1 },
    { praxiseId: 84433, value: 2 },
    { praxiseId: 84434, value: 4 },
    { praxiseId: 84435, value: 1 },
    { praxiseId: 84436, value: 1 },
    { praxiseId: 84437, value: 3 },
    { praxiseId: 84438, value: 1 },
    { praxiseId: 84439, value: 1 },
    { praxiseId: 84440, value: 1 },
    { praxiseId: 84441, value: 4 },
    { praxiseId: 84442, value: 4 },
    { praxiseId: 84443, value: 4 },
    { praxiseId: 84444, value: 1 },
    { praxiseId: 84445, value: 2 },
    { praxiseId: 84446, value: 2 },
    { praxiseId: 84447, value: 1 },
    { praxiseId: 84448, value: 4 },
    { praxiseId: 84449, value: 4 },
    { praxiseId: 84450, value: 3 },
    { praxiseId: 84451, value: 3 },
    { praxiseId: 84452, value: 2 },
    { praxiseId: 84453, value: 2 },
    { praxiseId: 84454, value: 2 },
    { praxiseId: 84455, value: 1 },
    { praxiseId: 84456, value: 2 },
    { praxiseId: 84457, value: 4 },
    { praxiseId: 84458, value: 2 },
    { praxiseId: 84459, value: 2 },
    { praxiseId: 84460, value: 1 },
    { praxiseId: 84461, value: 1 },
    { praxiseId: 84462, value: 1 },
    { praxiseId: 84463, value: 1 },
    { praxiseId: 84464, value: 1 },
    { praxiseId: 84465, value: 1 },
    { praxiseId: 84466, value: 1 },
    { praxiseId: 84467, value: -1 },
    { praxiseId: 84468, value: -1 },
    { praxiseId: 84469, value: 1 },
  ],
  '1318/450/submit/63777': [
    { praxiseId: 84470, value: 4 },
    { praxiseId: 84471, value: 4 },
    { praxiseId: 84472, value: 3 },
    { praxiseId: 84473, value: 3 },
    { praxiseId: 84474, value: 3 },
    { praxiseId: 84475, value: 3 },
    { praxiseId: 84476, value: 3 },
    { praxiseId: 84477, value: 1 },
    { praxiseId: 84478, value: 1 },
    { praxiseId: 84479, value: 2 },
    { praxiseId: 84480, value: 4 },
    { praxiseId: 84481, value: 1 },
    { praxiseId: 84482, value: 1 },
    { praxiseId: 84483, value: 4 },
    { praxiseId: 84484, value: 1 },
    { praxiseId: 84485, value: 2 },
    { praxiseId: 84486, value: 1 },
    { praxiseId: 84487, value: 3 },
    { praxiseId: 84488, value: 2 },
    { praxiseId: 84489, value: 4 },
    { praxiseId: 84490, value: 4 },
    { praxiseId: 84491, value: 3 },
    { praxiseId: 84492, value: 2 },
    { praxiseId: 84493, value: 3 },
    { praxiseId: 84494, value: 3 },
    { praxiseId: 84495, value: 4 },
    { praxiseId: 84496, value: 3 },
    { praxiseId: 84497, value: 4 },
    { praxiseId: 84498, value: 1 },
    { praxiseId: 84499, value: 2 },
    { praxiseId: 84500, value: 4 },
    { praxiseId: 84501, value: 2 },
    { praxiseId: 84502, value: 1 },
    { praxiseId: 84503, value: 1 },
    { praxiseId: 84504, value: 1 },
    { praxiseId: 84505, value: 1 },
    { praxiseId: 84506, value: 1 },
    { praxiseId: 84507, value: 1 },
    { praxiseId: 84508, value: 1 },
    { praxiseId: 84509, value: 1 },
    { praxiseId: 84510, value: 1 },
    { praxiseId: 84511, value: -1 },
  ],
  // 计算机系统结构
  '2746/749/submit/83486': [
    { praxiseId: 127150, value: 3 },
    { praxiseId: 127151, value: 2 },
    { praxiseId: 127152, value: 3 },
    { praxiseId: 127153, value: 3 },
    { praxiseId: 127154, value: 1 },
    { praxiseId: 127155, value: 4 },
    { praxiseId: 127156, value: 4 },
    { praxiseId: 127157, value: 1 },
    { praxiseId: 127158, value: 3 },
    { praxiseId: 127159, value: 4 },
    { praxiseId: 127160, value: 3 },
    { praxiseId: 127161, value: 4 },
    { praxiseId: 127162, value: 1 },
    { praxiseId: 127163, value: 1 },
    { praxiseId: 127164, value: 4 },
    { praxiseId: 127165, value: 4 },
    { praxiseId: 127166, value: 1 },
    { praxiseId: 127167, value: 3 },
    { praxiseId: 127168, value: 3 },
    { praxiseId: 127169, value: 2 },
    { praxiseId: 127170, value: 3 },
    { praxiseId: 127171, value: 3 },
    { praxiseId: 127172, value: 3 },
    { praxiseId: 127173, value: 4 },
    { praxiseId: 127174, value: 2 },
    { praxiseId: 127175, value: 3 },
    { praxiseId: 127176, value: 2 },
    { praxiseId: 127177, value: 3 },
    { praxiseId: 127178, value: 2 },
    { praxiseId: 127179, value: 3 },
    { praxiseId: 127180, value: 1 },
    { praxiseId: 127181, value: 3 },
    { praxiseId: 127182, value: -1 },
    { praxiseId: 127183, value: 1 },
    { praxiseId: 127184, value: 1 },
    { praxiseId: 127185, value: 1 },
    { praxiseId: 127186, value: 1 },
    { praxiseId: 127187, value: 1 },
    { praxiseId: 127188, value: -1 },
    { praxiseId: 127189, value: 1 },
    { praxiseId: 127190, value: -1 },
    { praxiseId: 127191, value: 1 },
  ],
  '2746/749/submit/83487': [
    { praxiseId: 127192, value: 4 },
    { praxiseId: 127193, value: 4 },
    { praxiseId: 127194, value: 4 },
    { praxiseId: 127195, value: 3 },
    { praxiseId: 127196, value: 2 },
    { praxiseId: 127197, value: 3 },
    { praxiseId: 127198, value: 2 },
    { praxiseId: 127199, value: 2 },
    { praxiseId: 127200, value: 2 },
    { praxiseId: 127201, value: 2 },
    { praxiseId: 127202, value: 4 },
    { praxiseId: 127203, value: 4 },
    { praxiseId: 127204, value: 4 },
    { praxiseId: 127205, value: 4 },
    { praxiseId: 127206, value: 3 },
    { praxiseId: 127207, value: 3 },
    { praxiseId: 127208, value: 1 },
    { praxiseId: 127209, value: 3 },
    { praxiseId: 127210, value: 4 },
    { praxiseId: 127211, value: 4 },
    { praxiseId: 127212, value: 1 },
    { praxiseId: 127213, value: 2 },
    { praxiseId: 127214, value: 1 },
    { praxiseId: 127215, value: 1 },
    { praxiseId: 127216, value: 1 },
    { praxiseId: 127217, value: 1 },
    { praxiseId: 127218, value: 4 },
    { praxiseId: 127219, value: 4 },
    { praxiseId: 127220, value: 1 },
    { praxiseId: 127221, value: 1 },
    { praxiseId: 127222, value: 1 },
    { praxiseId: 127223, value: 3 },
    { praxiseId: 127224, value: 1 },
    { praxiseId: 127225, value: 1 },
    { praxiseId: 127226, value: 1 },
    { praxiseId: 127227, value: 1 },
    { praxiseId: 127228, value: 1 },
    { praxiseId: 127229, value: 1 },
    { praxiseId: 127230, value: 1 },
    { praxiseId: 127231, value: -1 },
    { praxiseId: 127232, value: 1 },
    { praxiseId: 127233, value: 1 },
  ],
  '2746/749/submit/83488': [
    { praxiseId: 127234, value: 3 },
    { praxiseId: 127235, value: 4 },
    { praxiseId: 127236, value: 1 },
    { praxiseId: 127237, value: 2 },
    { praxiseId: 127238, value: 4 },
    { praxiseId: 127239, value: 4 },
    { praxiseId: 127240, value: 2 },
    { praxiseId: 127241, value: 4 },
    { praxiseId: 127242, value: 1 },
    { praxiseId: 127243, value: 2 },
    { praxiseId: 127244, value: 3 },
    { praxiseId: 127245, value: 2 },
    { praxiseId: 127246, value: 4 },
    { praxiseId: 127247, value: 3 },
    { praxiseId: 127248, value: 1 },
    { praxiseId: 127249, value: 3 },
    { praxiseId: 127250, value: 4 },
    { praxiseId: 127251, value: 3 },
    { praxiseId: 127252, value: 4 },
    { praxiseId: 127253, value: 2 },
    { praxiseId: 127254, value: 4 },
    { praxiseId: 127255, value: 4 },
    { praxiseId: 127256, value: 2 },
    { praxiseId: 127257, value: 4 },
    { praxiseId: 127258, value: 1 },
    { praxiseId: 127259, value: 2 },
    { praxiseId: 127260, value: 3 },
    { praxiseId: 127261, value: 2 },
    { praxiseId: 127262, value: 2 },
    { praxiseId: 127263, value: 3 },
    { praxiseId: 127264, value: 3 },
    { praxiseId: 127265, value: 2 },
    { praxiseId: 127266, value: -1 },
    { praxiseId: 127267, value: 1 },
    { praxiseId: 127268, value: 1 },
    { praxiseId: 127269, value: 1 },
    { praxiseId: 127270, value: 1 },
    { praxiseId: 127271, value: 1 },
    { praxiseId: 127272, value: 1 },
    { praxiseId: 127273, value: 1 },
    { praxiseId: 127274, value: -1 },
    { praxiseId: 127275, value: -1 },
  ],
  // 多媒体制作
  '5110/2307/submit/195986': [
    { praxiseId: 290708, value: 2 },
    { praxiseId: 290709, value: 4 },
    { praxiseId: 290710, value: 1 },
    { praxiseId: 290711, value: 2 },
    { praxiseId: 290712, value: 3 },
    { praxiseId: 290713, value: 3 },
    { praxiseId: 290714, value: 4 },
    { praxiseId: 290715, value: 1 },
    { praxiseId: 290716, value: 4 },
    { praxiseId: 290717, value: 3 },
    { praxiseId: 290718, value: 3 },
    { praxiseId: 290719, value: 4 },
    { praxiseId: 290720, value: 4 },
    { praxiseId: 290721, value: 2 },
    { praxiseId: 290722, value: 3 },
    { praxiseId: 290723, value: 2 },
    { praxiseId: 290724, value: 4 },
    { praxiseId: 290725, value: 4 },
    { praxiseId: 290726, value: 1 },
    { praxiseId: 290727, value: 4 },
    { praxiseId: 290728, value: '[1,3]' },
    { praxiseId: 290729, value: '[1,2,3,4]' },
    { praxiseId: 290730, value: '[1,4,3]' },
    { praxiseId: 290731, value: '[1,2]' },
    { praxiseId: 290732, value: '[1,3,4]' },
    { praxiseId: 290733, value: '[3,2,4]' },
    { praxiseId: 290734, value: '[1,2,3,4]' },
    { praxiseId: 290735, value: '[1,2,4]' },
    { praxiseId: 290736, value: '[1,2,3,4]' },
    { praxiseId: 290737, value: '[1,2]' },
    { praxiseId: 290738, value: -1 },
    { praxiseId: 290739, value: 1 },
    { praxiseId: 290740, value: 1 },
    { praxiseId: 290741, value: -1 },
    { praxiseId: 290742, value: -1 },
    { praxiseId: 290743, value: -1 },
    { praxiseId: 290744, value: 1 },
    { praxiseId: 290745, value: 1 },
    { praxiseId: 290746, value: 1 },
    { praxiseId: 290747, value: 1 },
  ],
  '5110/2307/submit/195987': [
    { praxiseId: 290748, value: 4 },
    { praxiseId: 290749, value: 1 },
    { praxiseId: 290750, value: 2 },
    { praxiseId: 290751, value: 3 },
    { praxiseId: 290752, value: 3 },
    { praxiseId: 290753, value: 2 },
    { praxiseId: 290754, value: 4 },
    { praxiseId: 290755, value: 2 },
    { praxiseId: 290756, value: 1 },
    { praxiseId: 290757, value: 1 },
    { praxiseId: 290758, value: 2 },
    { praxiseId: 290759, value: 3 },
    { praxiseId: 290760, value: 2 },
    { praxiseId: 290761, value: 4 },
    { praxiseId: 290762, value: 2 },
    { praxiseId: 290763, value: 2 },
    { praxiseId: 290764, value: 2 },
    { praxiseId: 290765, value: 2 },
    { praxiseId: 290766, value: 3 },
    { praxiseId: 290767, value: 4 },
    { praxiseId: 290768, value: '[2,4,3]' },
    { praxiseId: 290769, value: '[1,2,3]' },
    { praxiseId: 290770, value: '[1,4]' },
    { praxiseId: 290771, value: '[1,2,3,4]' },
    { praxiseId: 290772, value: '[2,4]' },
    { praxiseId: 290773, value: '[1,2,3,4]' },
    { praxiseId: 290774, value: '[1,3,4]' },
    { praxiseId: 290775, value: '[1,2,3,4]' },
    { praxiseId: 290776, value: '[1,4]' },
    { praxiseId: 290777, value: '[1,2,3,4]' },
    { praxiseId: 290778, value: 1 },
    { praxiseId: 290779, value: -1 },
    { praxiseId: 290780, value: -1 },
    { praxiseId: 290781, value: 1 },
    { praxiseId: 290782, value: -1 },
    { praxiseId: 290783, value: -1 },
    { praxiseId: 290784, value: 1 },
    { praxiseId: 290785, value: -1 },
    { praxiseId: 290786, value: -1 },
    { praxiseId: 290787, value: 1 },
  ],
  '5110/2307/submit/195988': [
    { praxiseId: 290816, value: '[2,4]' },
    { praxiseId: 290817, value: '[1,2,4]' },
    { praxiseId: 290818, value: 1 },
    { praxiseId: 290819, value: -1 },
    { praxiseId: 290820, value: -1 },
    { praxiseId: 290821, value: -1 },
    { praxiseId: 290822, value: 1 },
    { praxiseId: 290823, value: -1 },
    { praxiseId: 290824, value: -1 },
    { praxiseId: 290825, value: 1 },
    { praxiseId: 290826, value: 1 },
    { praxiseId: 290827, value: -1 },
    { praxiseId: 290788, value: 2 },
    { praxiseId: 290789, value: 4 },
    { praxiseId: 290790, value: 4 },
    { praxiseId: 290791, value: 4 },
    { praxiseId: 290792, value: 2 },
    { praxiseId: 290793, value: 1 },
    { praxiseId: 290794, value: 1 },
    { praxiseId: 290795, value: 3 },
    { praxiseId: 290796, value: 3 },
    { praxiseId: 290797, value: 1 },
    { praxiseId: 290798, value: 2 },
    { praxiseId: 290799, value: 4 },
    { praxiseId: 290800, value: 3 },
    { praxiseId: 290801, value: 3 },
    { praxiseId: 290802, value: 3 },
    { praxiseId: 290803, value: 1 },
    { praxiseId: 290804, value: 2 },
    { praxiseId: 290805, value: 3 },
    { praxiseId: 290806, value: 4 },
    { praxiseId: 290807, value: 2 },
    { praxiseId: 290808, value: '[2,1,3,4]' },
    { praxiseId: 290809, value: '[1,2,3]' },
    { praxiseId: 290810, value: '[1,2,4]' },
    { praxiseId: 290811, value: '[1,3,4]' },
    { praxiseId: 290812, value: '[1,3]' },
    { praxiseId: 290813, value: '[1,3]' },
    { praxiseId: 290814, value: '[1,2,3,4]' },
    { praxiseId: 290815, value: '[1,2,4,3]' },
  ],
}

const handlePreId = (id: string, type: number): string => {
  let lastId = ''
  const lastArr = []
  switch (id) {
    case '1318/450':
      lastArr[0] = '63775'
      lastArr[1] = '63776'
      lastArr[2] = '63777'
      break
    case '2746/749':
      lastArr[0] = '83486'
      lastArr[1] = '83487'
      lastArr[2] = '83488'
      break
    case '5110/2307':
      lastArr[0] = '195986'
      lastArr[1] = '195987'
      lastArr[2] = '195988'
      break
  }
  lastId = lastArr[type - 1]
  if (lastId === '') return ''
  return `${id}/submit/${lastId}`
}

export const query = (id: string, token: string) => {
  const url = `${ENTER_CLASSROOM}/${id}?token=${token}&school_host=haut.hnscen.cn`
  return request<any>(
    {
      url,
      method: 'get',
    },
    {
      isMock: false,
    },
  )
}

export const submitAnswer = (id: string, type: number, token: string) => {
  const resId = handlePreId(id, type)
  if (resId === '') return
  const url = `${ENTER_CLASSROOM}/${resId}`
  const data = {
    school_host: 'haut.hnscen.cn',
    token,
    items: JSON.stringify(submitItems[resId]),
  }
  console.log(url, data)
  return request<any>({
    url,
    method: 'post',
    data,
  })
  // return {"code":0,"msg":"OK","data":null,"count":0}
}

/**
 * 完成数
 * /edu/v1/classroom/1318/450
 * res.data.chapter[last].children -> c
 *
 * c.rec.praxise_has_count 总共
 * c.rec.praxise_correct_count 正确
 * c.rec.praxise_submit_count 剩余提交次数
 *
 */
